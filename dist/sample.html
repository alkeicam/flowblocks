<html class="has-navbar-fixed-top">

<head>
    <!-- these are required by jointjs  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone.js"></script>

    <!-- These are required by the app -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bulma-extensions@6.2.7/dist/js/bulma-extensions.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-extensions@6.2.7/dist/css/bulma-extensions.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/rivets/0.9.6/rivets.bundled.min.js"></script>
    <script src="./resources/js/rivet-utils.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.0/codemirror.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.0/codemirror.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.0/mode/javascript/javascript.min.js"></script> -->



    <!-- load jointjs  -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.1.1/joint.min.js"> </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.1.1/joint.min.css" />
    <link rel="stylesheet" href="./resources/css/flowblocks.css" />
    <!-- SVG pan and zoom support -->
    <script src="https://ariutta.github.io/svg-pan-zoom/dist/svg-pan-zoom.min.js"></script>

    <!--  -->


    <!-- load flowblocks -->
    <script src="./flowblocks.js"></script>

</head>

<body>


    <!-- menu start -->
    <nav class="navbar is-fixed-top is-light flowblocks-menu" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <a class="navbar-item" rv-href="model.u">
                <img rv-src="model.b" width="112" height="28">
            </a>

            <!-- <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
                data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a> -->
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item" rv-on-click="modelSpecificationSave">
                    <p>{model.c}<small>&nbsp;{model.s}</small></p>
                </a>
                <div rv-each-fl="model.m" style="display: flex;">

                    <a rv-unless="fl.m" class="navbar-item" rv-data-event="fl.e" rv-on-click="fl.menuClick">
                        {fl.s | ifThenElseEQ true '|' fl.l}
                        <!-- <span rv-if="fl.s">|</span>
                        <span rv-unless="fl.s">{fl.l}</span> -->
                    </a>
                    <div rv-if="fl.m" class="navbar-item has-dropdown is-hoverable">
                        <a class="navbar-link">
                            {fl.l}
                        </a>

                        <div class="navbar-dropdown">
                            <div rv-each-fls="fl.m">
                                <a rv-unless="fls.s" class="navbar-item" rv-data-event="fls.e"
                                    rv-on-click="fls.menuClick">
                                    {fls.l}
                                </a>
                                <hr rv-if="fls.s" class="navbar-divider">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- <div class="navbar-end">
                <div class="navbar-item">
                    <div class="buttons">
                        <a class="button is-primary">
                            <strong>Sign up</strong>
                        </a>
                        <a class="button is-light">
                            Log in
                        </a>
                    </div>
                </div>
            </div> -->
        </div>
    </nav>
    <!-- menu end -->
    
    <div class="flowblocks-flow">
        <!-- notifications -->
        <div rv-if="model.general.busy" class="notification is-warning is-light">
            <!-- <button class="delete"></button> -->
            <i class="fas fa-spinner fa-spin"></i>&nbsp;Please wait. Performing operation ...
        </div>
        <div rv-if="model.general.doneOk" class="notification is-success  is-light">
            <!-- <button class="delete"></button> -->
            <i class="fas fa-check"></i>&nbsp;Success
        </div>
        <!-- notifications end -->
        <!-- flowblocks diagram -->
        <div id="flowblocks-flow"></div>
        <!-- flowblocks diagram end-->
        <!-- flowblocks modals -->
        <!-- flowblocks details modal -->
        <div class="modal flowblocks-flow-modal" rv-class-is-active="model.details.show">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Configure <span
                            class="has-text-weight-bold is-uppercase">{model.details.label}</span></p>
                    <button class="delete" aria-label="close" rv-on-click="dismiss"></button>
                </header>
                <section class="modal-card-body">
                    <!-- Content ... -->
                    <form class="flowblocks-details-form">
                        <div class="field">
                            <label class="label">BlockId</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Block unique id" disabled
                                    rv-value="model.details.blockId">
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Type</label>
                            <div class="control">
                                <input class="input is-uppercase" type="text" placeholder="BlockType" disabled
                                    rv-value="model.details.type">
                            </div>
                        </div>
                        <div class="field" rv-data-observe="c.type" rv-each-c="model.details.configurables">
                            <div rv-if="c.type | eq 'TEXT'">
                                <label class="label">{c.label}</label>
                                <div class="control">
                                    <input class="input" type="text" rv-placeholder="c.placeholder" rv-data-bid="c.id"
                                        rv-value="c.value">
                                </div>
                            </div>
                            <div rv-if="c.type | eq 'NUMBER'">
                                <label class="label">{c.label}</label>
                                <div class="control">
                                    <input rv-if="c.type | eq 'NUMBER'" class="input" type="number"
                                        rv-placeholder="c.placeholder" rv-data-bid="c.id" rv-value="c.value">
                                </div>
                            </div>
                            <div rv-if="c.type | eq 'BOOLEAN'">
                                <label class="label">{c.label}</label>
                                <div class="control">

                                    <label class="radio">
                                        <input type="radio" rv-checked="c.value" value="true">
                                        OK
                                    </label>
                                    <label class="radio">
                                        <input type="radio" rv-checked="c.value" value="false">
                                        No
                                    </label>
                                </div>
                            </div>
                            <div rv-if="c.type | eq 'LIST'">
                                <label class="label">{c.label}</label>
                                <p class="control has-icons-left is-expanded">
                                    <span class="select is-fullwidth">
                                        <select rv-value="c.value">
                                            <option value="-1">Please select</option>
                                            <option rv-each-dict="c.options" rv-value="dict.v">
                                                {dict.l}</option>
                                        </select>
                                    </span>
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-globe"></i>
                                    </span>
                                </p>
                            </div>
                            <div rv-if="c.type | eq 'CODE'">
                                <label class="label">{c.label}</label>
                                <div class="control">
                                    <textarea rv-id="c.id" class="textarea" cols="80" rows="40"
                                        rv-value="c.value"></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-success" rv-on-click="detailsSave">Save changes</button>
                    <button class="button" rv-on-click="dismiss">Cancel</button>
                </footer>
            </div>
        </div>
        <div class="modal flowblocks-flow-modal" rv-class-is-active="model.types.create.show">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Configure <span
                            class="has-text-weight-bold is-uppercase">{model.details.label}</span></p>
                    <button class="delete" aria-label="close" rv-on-click="dismiss"></button>
                </header>
                <section class="modal-card-body">
                    <!-- Content ... -->
                    <form class="flowblocks-details-form">
                        <div class="field">
                            <label class="label">BlockId</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Block unique id" disabled
                                    rv-value="model.details.blockId">
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Type</label>
                            <div class="control">
                                <input class="input is-uppercase" type="text" placeholder="BlockType" disabled
                                    rv-value="model.details.type">
                            </div>
                        </div>
                        <div class="field" rv-data-observe="c.type" rv-each-c="model.details.configurables">
                            <div rv-if="c.type | eq 'TEXT'">
                                <label class="label">{c.label}</label>
                                <div class="control">
                                    <input class="input" type="text" rv-placeholder="c.placeholder" rv-data-bid="c.id"
                                        rv-value="c.value">
                                </div>
                            </div>
                            <div rv-if="c.type | eq 'NUMBER'">
                                <label class="label">{c.label}</label>
                                <div class="control">
                                    <input rv-if="c.type | eq 'NUMBER'" class="input" type="number"
                                        rv-placeholder="c.placeholder" rv-data-bid="c.id" rv-value="c.value">
                                </div>
                            </div>
                            <div rv-if="c.type | eq 'BOOLEAN'">
                                <label class="label">{c.label}</label>
                                <div class="control">

                                    <label class="radio">
                                        <input type="radio" rv-checked="c.value" value="true">
                                        Yes
                                    </label>
                                    <label class="radio">
                                        <input type="radio" rv-checked="c.value" value="false">
                                        No
                                    </label>
                                </div>
                            </div>
                            <div rv-if="c.type | eq 'LIST'">
                                <label class="label">{c.label}</label>
                                <p class="control has-icons-left is-expanded">
                                    <span class="select is-fullwidth">
                                        <select rv-value="c.value">
                                            <option value="-1">Please select</option>
                                            <option rv-each-dict="c.options" rv-value="dict.v">
                                                {dict.l}</option>
                                        </select>
                                    </span>
                                    <span class="icon is-small is-left">
                                        <i class="fas fa-globe"></i>
                                    </span>
                                </p>
                            </div>
                            <div rv-if="c.type | eq 'CODE'">
                                <label class="label">{c.label}</label>
                                <div class="control">
                                    <textarea rv-id="c.id" class="textarea" cols="80" rows="40"
                                        rv-value="c.value"></textarea>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-success" rv-on-click="detailsSave">Save changes</button>
                    <button class="button" rv-on-click="dismiss">Cancel</button>
                </footer>
            </div>
        </div>
        <!-- flowblocks modals end -->
    </div>

    <!-- TOOLBAR PART -->
    <div class="flowblocks-toolbar" >
        <section class="accordions">
            <article class="accordion" rv-class-is-active="%tbd% | eq 0" rv-each-tbd="model.drawers">                
                <div class="accordion-header toggle">
                    <p>{tbd.category}</p>
                </div>
                <div class="accordion-body">
                    <div class="accordion-content">
                        <div rv-id="tbd.id"></div>
                    </div>
                </div>
            </article>
        </section> 


        <div class="modal flowblocks-toolbar-modal flowblocks-create" rv-class-is-active="model.create.show">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Create <span
                            class="has-text-weight-bold is-uppercase">{model.create.title}</span></p>
                    <button class="delete" aria-label="close" rv-on-click="dismiss"></button>
                </header>
                <section class="modal-card-body">
                    <!-- Content ... -->
                    <form>
                        <div class="field">
                            <label class="label">BlockId</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Block unique id"
                                    rv-value="model.create.blockId">
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Label</label>
                            <div class="control">
                                <input class="input" type="text" placeholder="Label displayed on block"
                                    rv-value="model.create.label">
                            </div>
                        </div>
                    </form>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-success" rv-on-click="addBlock">Save changes</button>
                    <button class="button" rv-on-click="dismiss">Cancel</button>
                </footer>
            </div>
            <!-- <button class="modal-close is-large" aria-label="close" rv-on-click="dismiss"></button> -->
        </div>
    </div>
    <!-- TOOLBAR PART END -->
    <script>
        RivetUtils.initializeRivetFormatters();
        var accordions = bulmaExtensions.bulmaAccordion.attach();

        var flow = flowblocks.createFlow('flowblocks-flow');
        var toolbar = flowblocks.createToolbar('flowblocks-toolbar');
        var app = flowblocks.createApp('flowblocks-flow', 'flowblocks-toolbar', 'flowblocks-menu', {
            b: 'https://bulma.io/images/bulma-logo.png',
            u: '#',
            c: flow.graph.get('name'),
            s: 'v. '+flowblocks.version,
            m: [
                { s: true },
                // {
                //     s: false, l: 'Types', m: [
                //         { s: false, l: 'Register type', e: 'type:create' }
                //     ]
                // },
                {
                    s: false, l: 'Model spec.', m: [
                        { s: false, l: 'Save', e: 'flowblocks:save' },
                        { s: true },
                        { s: false, l: 'Download', e: 'flowblocks:download' },
                    ]
                }
            ]
        });

            //typeName, templateName, icon, defaultStyle, typeConfigurable, typeCategory
            var types = [
                {
                    name: 'Input',
                    category: 'Basic',
                    template: 'Start',
                    icon: 'agave',
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'sparse', label: 'Is placeholder sparse', placeholder: 'true, false', type: 'BOOLEAN', required: false }
                    ]
                },
                {
                    name: 'Activation',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'avocado',
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'activation', label: 'Activation function', placeholder: '', type: 'LIST', required: false, options: [{ v: 'elu', l: 'elu' }, { v: 'hardSigmoid', l: 'hardSigmoid' }, { v: 'linear', l: 'linear' }, { v: 'relu', l: 'relu' }, { v: 'relu6', l: 'relu6' }, , { v: 'selu', l: 'selu' }, { v: 'sigmoid', l: 'sigmoid' }, { v: 'softmax', l: 'softmax' }, { v: 'softplus', l: 'softplus' }, { v: 'softsign', l: 'softsign' }, { v: 'tanh', l: 'tanh' }], default: '-1' },                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]                    
                },
                {
                    name: 'Dense',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'burrito',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'units', label: 'Units', placeholder: 'i.e. 4', type: 'NUMBER', required: false },
                        { id: 'activation', label: 'Activation function', placeholder: '', type: 'LIST', required: false, options: [{ v: 'elu', l: 'elu' }, { v: 'hardSigmoid', l: 'hardSigmoid' }, { v: 'linear', l: 'linear' }, { v: 'relu', l: 'relu' }, { v: 'relu6', l: 'relu6' }, , { v: 'selu', l: 'selu' }, { v: 'sigmoid', l: 'sigmoid' }, { v: 'softmax', l: 'softmax' }, { v: 'softplus', l: 'softplus' }, { v: 'softsign', l: 'softsign' }, { v: 'tanh', l: 'tanh' }], default: '-1' },                        
                        { id: 'useBias', label: 'Apply bias', placeholder: 'true, false', type: 'BOOLEAN', required: false },   
                        { id: 'kernelInitializer', label: 'Kernal initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },
                        { id: 'biasInitializer', label: 'Bias initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },
                        { id: 'inputDim', label: 'Input shape', placeholder: 'i.e. 3', type: 'NUMBER', required: false },
                        { id: 'kernelConstraint', label: 'Kernel constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'biasConstraint', label: 'Bias constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                        
                        { id: 'kernelRegularizer', label: 'Kernel regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'biasRegularizer', label: 'Bias regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'activityRegularizer', label: 'Activity regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                
                {
                    name: 'Dropout',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'cactus',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        
                        { id: 'rate', label: 'Fraction to drop', placeholder: 'i.e. 0.2', type: 'NUMBER', required: false },
                        { id: 'noiseShape', label: 'Binary dropout shape', placeholder: 'i.e. [3]', type: 'TEXT', required: false },
                        { id: 'seed', label: 'Random seed', placeholder: 'i.e. 23', type: 'NUMBER', required: false },                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Embedding',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'candle',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'inputDim', label: 'Vocabulary size', placeholder: 'i.e. 7', type: 'NUMBER', required: false },
                        { id: 'outputDim', label: 'Dense embedding dimension', placeholder: 'i.e. 7', type: 'NUMBER', required: false },
                        { id: 'embeddingsInitializer', label: 'Embeddings initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'embeddingsRegularizer', label: 'Embeddings regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'activityRegularizer', label: 'Activation regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },                                                                                            
                        { id: 'embeddingsConstraint', label: 'Embedding constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'maskZero', label: 'Masking', placeholder: 'true, false', type: 'BOOLEAN', required: false },    
                        { id: 'inputLength', label: 'Input length', placeholder: 'i.e. 7 or [7,12]', type: 'TEXT', required: false },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Flatten',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'chili',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        
                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Permute',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'cigar',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'dims', label: 'Permutation pattern', placeholder: 'i.e. [2, 1]', type: 'TEXT', required: false },
                        
                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Repeat Vector',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'coa-de-jima',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'n', label: 'Times to repeat', placeholder: 'i.e. 2', type: 'NUMBER', required: false },
                        
                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Reshape',
                    category: 'Basic',
                    template: 'PassThrough',
                    icon: 'dalia',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'targetShape', label: 'Target shape', placeholder: 'i.e. [2,4,3]', type: 'TEXT', required: false },
                        
                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Conv1D',
                    category: 'Convolutional',
                    template: 'PassThrough',
                    icon: 'drum',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'filters', label: 'Output dimensionality', placeholder: 'i.e. 4', type: 'NUMBER', required: false },
                        { id: 'kernelSize', label: 'Convolution window dimensions', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'strides', label: 'Strides of convolution', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'padding', label: 'Padding mode', placeholder: '', type: 'LIST', required: false, options: [{ v: 'valid', l: 'valid' }, { v: 'same', l: 'same' }, { v: 'causal', l: 'causal' }], default: '-1' },
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        
                        { id: 'dilationRate', label: 'Dilation rate', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'activation', label: 'Activation function', placeholder: '', type: 'LIST', required: false, options: [{ v: 'elu', l: 'elu' }, { v: 'hardSigmoid', l: 'hardSigmoid' }, { v: 'linear', l: 'linear' }, { v: 'relu', l: 'relu' }, { v: 'relu6', l: 'relu6' }, , { v: 'selu', l: 'selu' }, { v: 'sigmoid', l: 'sigmoid' }, { v: 'softmax', l: 'softmax' }, { v: 'softplus', l: 'softplus' }, { v: 'softsign', l: 'softsign' }, { v: 'tanh', l: 'tanh' }], default: '-1' },                        
                        { id: 'useBias', label: 'Apply bias', placeholder: 'true, false', type: 'BOOLEAN', required: false },   
                        { id: 'kernelInitializer', label: 'Kernel initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'biasInitializer', label: 'Bias initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'kernelConstraint', label: 'Kernel constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'biasConstraint', label: 'Bias constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'kernelRegularizer', label: 'Kernel regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'biasRegularizer', label: 'Bias regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'activityRegularizer', label: 'Activity regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Conv2D',
                    category: 'Convolutional',
                    template: 'PassThrough',
                    icon: 'fajita',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'filters', label: 'Output dimensionality', placeholder: 'i.e. 4', type: 'NUMBER', required: false },
                        { id: 'kernelSize', label: 'Convolution window dimensions', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'strides', label: 'Strides of convolution', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'padding', label: 'Padding mode', placeholder: '', type: 'LIST', required: false, options: [{ v: 'valid', l: 'valid' }, { v: 'same', l: 'same' }, { v: 'causal', l: 'causal' }], default: '-1' },
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        
                        { id: 'dilationRate', label: 'Dilation rate', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'activation', label: 'Activation function', placeholder: '', type: 'LIST', required: false, options: [{ v: 'elu', l: 'elu' }, { v: 'hardSigmoid', l: 'hardSigmoid' }, { v: 'linear', l: 'linear' }, { v: 'relu', l: 'relu' }, { v: 'relu6', l: 'relu6' }, , { v: 'selu', l: 'selu' }, { v: 'sigmoid', l: 'sigmoid' }, { v: 'softmax', l: 'softmax' }, { v: 'softplus', l: 'softplus' }, { v: 'softsign', l: 'softsign' }, { v: 'tanh', l: 'tanh' }], default: '-1' },                        
                        { id: 'useBias', label: 'Apply bias', placeholder: 'true, false', type: 'BOOLEAN', required: false },   
                        { id: 'kernelInitializer', label: 'Kernel initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'biasInitializer', label: 'Bias initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'kernelConstraint', label: 'Kernel constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'biasConstraint', label: 'Bias constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'kernelRegularizer', label: 'Kernel regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'biasRegularizer', label: 'Bias regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'activityRegularizer', label: 'Activity regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Conv2DTranspose',
                    category: 'Convolutional',
                    template: 'PassThrough',
                    icon: 'guitar',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'filters', label: 'Output dimensionality', placeholder: 'i.e. 4', type: 'NUMBER', required: false },
                        { id: 'kernelSize', label: 'Convolution window dimensions', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'strides', label: 'Strides of convolution', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'padding', label: 'Padding mode', placeholder: '', type: 'LIST', required: false, options: [{ v: 'valid', l: 'valid' }, { v: 'same', l: 'same' }, { v: 'causal', l: 'causal' }], default: '-1' },
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        
                        { id: 'dilationRate', label: 'Dilation rate', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'activation', label: 'Activation function', placeholder: '', type: 'LIST', required: false, options: [{ v: 'elu', l: 'elu' }, { v: 'hardSigmoid', l: 'hardSigmoid' }, { v: 'linear', l: 'linear' }, { v: 'relu', l: 'relu' }, { v: 'relu6', l: 'relu6' }, , { v: 'selu', l: 'selu' }, { v: 'sigmoid', l: 'sigmoid' }, { v: 'softmax', l: 'softmax' }, { v: 'softplus', l: 'softplus' }, { v: 'softsign', l: 'softsign' }, { v: 'tanh', l: 'tanh' }], default: '-1' },                        
                        { id: 'useBias', label: 'Apply bias', placeholder: 'true, false', type: 'BOOLEAN', required: false },   
                        { id: 'kernelInitializer', label: 'Kernel initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'biasInitializer', label: 'Bias initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'kernelConstraint', label: 'Kernel constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'biasConstraint', label: 'Bias constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'kernelRegularizer', label: 'Kernel regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'biasRegularizer', label: 'Bias regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'activityRegularizer', label: 'Activity regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Conv3D',
                    category: 'Convolutional',
                    template: 'PassThrough',
                    icon: 'jam',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        { id: 'filters', label: 'Output dimensionality', placeholder: 'i.e. 4', type: 'NUMBER', required: false },
                        { id: 'kernelSize', label: 'Convolution window dimensions', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'strides', label: 'Strides of convolution', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'padding', label: 'Padding mode', placeholder: '', type: 'LIST', required: false, options: [{ v: 'valid', l: 'valid' }, { v: 'same', l: 'same' }, { v: 'causal', l: 'causal' }], default: '-1' },
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        
                        { id: 'dilationRate', label: 'Dilation rate', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'activation', label: 'Activation function', placeholder: '', type: 'LIST', required: false, options: [{ v: 'elu', l: 'elu' }, { v: 'hardSigmoid', l: 'hardSigmoid' }, { v: 'linear', l: 'linear' }, { v: 'relu', l: 'relu' }, { v: 'relu6', l: 'relu6' }, , { v: 'selu', l: 'selu' }, { v: 'sigmoid', l: 'sigmoid' }, { v: 'softmax', l: 'softmax' }, { v: 'softplus', l: 'softplus' }, { v: 'softsign', l: 'softsign' }, { v: 'tanh', l: 'tanh' }], default: '-1' },                        
                        { id: 'useBias', label: 'Apply bias', placeholder: 'true, false', type: 'BOOLEAN', required: false },   
                        { id: 'kernelInitializer', label: 'Kernel initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'biasInitializer', label: 'Bias initializer', placeholder: '', type: 'LIST', required: false, options: [{ v: 'constant', l: 'constant' }, { v: 'glorotNormal', l: 'glorotNormal' }, { v: 'glorotUniform', l: 'glorotUniform' }, { v: 'heNormal', l: 'heNormal' }, { v: 'heUniform', l: 'heUniform' }, { v: 'identity', l: 'identity' }, { v: 'leCunNormal', l: 'leCunNormal' }, { v: 'leCunUniform', l: 'leCunUniform' }, { v: 'ones', l: 'ones' }, { v: 'orthogonal', l: 'orthogonal' }, { v: 'randomNormal', l: 'randomNormal' }, { v: 'randomUniform', l: 'randomUniform' }, { v: 'truncatedNormal', l: 'truncatedNormal' }, { v: 'varianceScaling', l: 'varianceScaling' }, { v: 'zeros', l: 'zeros' }], default: '-1' },                        
                        { id: 'kernelConstraint', label: 'Kernel constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'biasConstraint', label: 'Bias constraint', placeholder: '', type: 'LIST', required: false, options: [{ v: 'maxNorm', l: 'maxNorm' }, { v: 'minMaxNorm', l: 'minMaxNorm' }, { v: 'nonNeg', l: 'nonNeg' }, { v: 'unitNorm', l: 'unitNorm' }], default: '-1' },                       
                        { id: 'kernelRegularizer', label: 'Kernel regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'biasRegularizer', label: 'Bias regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },
                        { id: 'activityRegularizer', label: 'Activity regularizer', placeholder: 'i.e. l1l2', type: 'TEXT', required: false },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Cropping2D',
                    category: 'Convolutional',
                    template: 'PassThrough',
                    icon: 'maracas',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },

                        { id: 'cropping', label: 'Dimension of the cropping', placeholder: 'i.e. [2,1]', type: 'TEXT', required: false },                        
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Add',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'mask',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        
                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Average',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'mate',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Concatenate',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'mexican-hat',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },

                        { id: 'axis', label: 'Axis', placeholder: 'i.e. 0', type: 'NUMBER', required: false },                                                

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Dot Product',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'mexican',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },

                        { id: 'axes', label: 'Axes', placeholder: 'i.e. [0,0]', type: 'TEXT', required: false },                                                
                        { id: 'normalize', label: 'L2-Normalize', placeholder: 'true, false', type: 'BOOLEAN', required: false },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Maximum',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'molcajete',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Minimum',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'mustache',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Multiply',
                    category: 'Merge',
                    template: 'PassThrough',
                    icon: 'nachos',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Avg Pooling 1D',
                    category: 'Pooling',
                    template: 'PassThrough',
                    icon: 'piata',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        
                        { id: 'poolSize', label: 'Pool over window size', placeholder: 'i.e. [1]', type: 'TEXT', required: false },
                        { id: 'strides', label: 'Sampling period', placeholder: 'i.e. [1]', type: 'TEXT', required: false },
                        { id: 'padding', label: 'Padding mode', placeholder: '', type: 'LIST', required: false, options: [{ v: 'valid', l: 'valid' }, { v: 'same', l: 'same' }, { v: 'causal', l: 'causal' }], default: '-1' },

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                },                 
                {
                    name: 'Avg Pooling 2D',
                    category: 'Pooling',
                    template: 'PassThrough',
                    icon: 'poncho',                    
                    style: 'cream',
                    configurables: [
                        { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                        
                        { id: 'poolSize', label: 'Pool over window size', placeholder: 'i.e. [1,1]', type: 'TEXT', required: false },
                        { id: 'strides', label: 'Sampling period', placeholder: 'i.e. [1,1]', type: 'TEXT', required: false },
                        { id: 'padding', label: 'Padding mode', placeholder: '', type: 'LIST', required: false, options: [{ v: 'valid', l: 'valid' }, { v: 'same', l: 'same' }, { v: 'causal', l: 'causal' }], default: '-1' },
                        { id: 'dataFormat', label: 'Data format', placeholder: '', type: 'LIST', required: false, options: [{ v: 'channelsFirst', l: 'channelsFirst' }, { v: 'channelsLast', l: 'channelsLast' }], default: '-1' },                        

                        { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                        { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                        { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                        { id: 'trainable', label: 'Weights updatable', placeholder: 'true, false', type: 'BOOLEAN', required: false },                        
                    ]
                }

            ]

        flowblocks.registerTypes(types);    

        flowblocks.registerType('SiakisInny', 'Start', 'tequila', 'cream', 
            [
                { id: 'name', label: 'Layer name', placeholder: 'i.e. my input', type: 'TEXT', required: false },
                { id: 'inputShape', label: 'Input shape', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                { id: 'batchSize', label: 'Input batch size', placeholder: 'i.e. 250', type: 'NUMBER', required: false },
                { id: 'batchInputShape', label: 'Batch input size', placeholder: 'i.e. [4]', type: 'TEXT', required: false },
                { id: 'dtype', label: 'Input datatype', placeholder: '', type: 'LIST', required: false, options: [{ v: 'float32', l: 'float32' }, { v: 'int32', l: 'int32' }, { v: 'bool', l: 'bool' }, { v: 'complex64', l: 'complex64' }, { v: 'string', l: 'string' }], default: '-1' },
                { id: 'sparse', label: 'Is placeholder sparse', placeholder: 'true, false', type: 'BOOLEAN', required: false }              
            ]
        , 'Input');

        // flowblocks.registerType('ForwardSplit', 'Split', 'jam', 'cream', {
        //     configurables: [
        //         { id: 'pKernelSize', label: 'Kernel size', placeholder: 'Kernel size', type: 'NUMBER', required: false },
        //         { id: 'pActivation', label: 'Activation', placeholder: 'relu | softmax', type: 'TEXT', required: false, default: 'relu' },
        //         { id: 'pFilters', label: 'Filters', placeholder: 'number', type: 'NUMBER', required: false },
        //         { id: 'pEnabled', label: 'Is enabled', placeholder: 'yes, no', type: 'BOOLEAN', required: false },
        //         { id: 'pUWC', label: 'User code', placeholder: 'javascript code', type: 'CODE', required: false, language: 'javascript', default: 'function a(){}' }
        //     ]
        // }, 'Input');
        // flowblocks.registerType('Forward', 'PassThrough', 'rug', 'cream', undefined, 'Output');
        // flowblocks.registerType('Mixer', 'Mixer', 'cactus', 'cream', undefined, 'Output');
        // flowblocks.registerType('Join', 'Join', 'sun', 'cream', undefined, 'Input');
        // flowblocks.registerType('FlowEnd', 'End', 'zampona', 'cream', undefined, 'Output');

        flowblocks.enablePanAndZoom(svgPanZoom);

        // // textarea
        //     var target = document.querySelector('.flowblocks-details-form');

        //     // create an observer instance
        //     var observer = new MutationObserver(function (mutations) {
        //         mutations.forEach(function (mutationRecord) {
        //             console.log(mutationRecord);
        //             var addedNode = mutationRecord.addedNodes[0];
        //             var removedNode = mutationRecord.removedNodes[0];
        //             if(addedNode && addedNode.dataset.observe == 'CODE'){
        //                 var t = addedNode.querySelectorAll("textarea");
        //                 t.forEach(tarea=>{
        //                     var eId = tarea.getAttribute('id');
        //                     console.log(tarea.getAttribute('id'), tarea);
        //                     CodeMirror.fromTextArea(document.getElementById(eId), {                             
        //                         mode:  "javascript",
        //                         lineNumbers: true,
        //                     });
        //                 })

        //             }

        //             if(removedNode && removedNode.dataset.observe == 'CODE'){
        //                 console.log(removedNode.dataset.observe);
        //             }

        //         });
        //     });

        //     // configuration of the observer:
        //     var config = { childList: true }

        //     // pass in the target node, as well as the observer options
        //     observer.observe(target, config);


        // flowblocks.on('all', function(a,b,c,d,e,f){
        //     console.log('Received: ',a,b,c,d,e,f);
        // })
    </script>


</body>

</html>